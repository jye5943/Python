검색자료 : 공간융합정보 - 용도별건물정보서비스


반복문이 첫 번째로 실행될 때 첫 행의 태그네임을 검색하여 데이터프레임의 컬럼명으로 지정함

하지만, XML 자료에서 결측값이 있을경우 해당 태그까지 없는 경우가 발견됨

그래서 첫 행에서 결측값이 있으면 다른 행에서 존재하는 컬럼명이 기록이 안됨
-> finalResult.colimns = columnName에서 에러가 남

첫 행에 결측값이 없어서 운 좋게 만들어진 데이터도 문제
이중for문에서 상위 반복문에서 태그가 검색이 안 되면 하위 반복문에서는 그 만큼 적게 반복을 돌게 됨
따라서 결측값이 있을 경우 각자 길이가 달라서 만약 결측값이 하나라도 있으면 데이터가 뒤틀린 채 나오게 됨
-> 참고문서의 응답메시지 명세에서 기술된 대로 데이터가 나오지 않으면 공백 혹은 결측값을 삽입하도록 조치해야 함

값이 여러 태그를 걸쳐서 존재하는 경우 find_all()이 하위태그까지 반복적으로 검색해서 값이 중복으로 나오게 됨



이러한 데이터의 경우 우선
기존 함수를 데이터의 전체 컬럼명 리스트를 인자로 받는 함수로 개선
반복문을 리스트의 각 값으로 돌리면서 있으면 값을 넣고 없으면 공백으로 처리할 것